/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/vendor/Onix/js/scriptEditor/src/commands.js":
/*!***************************************************************!*\
  !*** ./resources/vendor/Onix/js/scriptEditor/src/commands.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./consts */ \"./resources/vendor/Onix/js/scriptEditor/src/consts.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function (editor) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var cm = editor.Commands;\n  var md = editor.Modal;\n  var domc = editor.Components;\n  var modalTitle = opts.modalTitle,\n    codeViewOptions = opts.codeViewOptions,\n    commandAttachScript = opts.commandAttachScript,\n    toolbarIcon = opts.toolbarIcon,\n    onRun = opts.onRun,\n    onError = opts.onError,\n    starter = opts.starter;\n  var scriptTypesSupport = opts.scriptTypesSupport;\n  var content = null;\n  var appendToContent = function appendToContent(target, content) {\n    if (content instanceof HTMLElement) {\n      target.appendChild(content);\n    } else if (content) {\n      target.insertAdjacentHTML('beforeend', content);\n    }\n  };\n  if (editor.$.isString(scriptTypesSupport)) {\n    scriptTypesSupport = scriptTypesSupport.split(',');\n  }\n  if (editor.$.isArray(scriptTypesSupport)) {\n    scriptTypesSupport = scriptTypesSupport.includes('*') ? domc.getTypes().map(function (c) {\n      return c.id;\n    }) : scriptTypesSupport;\n  }\n\n  // Add icons to specified component types\n  scriptTypesSupport && scriptTypesSupport.forEach(function (type) {\n    var typeOpt = domc.getType(type).model;\n    domc.addType(type, {\n      model: {\n        initToolbar: function initToolbar() {\n          typeOpt.prototype.initToolbar.apply(this, arguments);\n          var tb = this.get('toolbar');\n          var tbExists = tb.some(function (item) {\n            return item.command === _consts__WEBPACK_IMPORTED_MODULE_0__.cmdId;\n          });\n          if (!tbExists) {\n            tb.unshift(_objectSpread({\n              command: _consts__WEBPACK_IMPORTED_MODULE_0__.cmdId,\n              label: toolbarIcon\n            }, opts.toolbarBtnCustomScript));\n            this.set('toolbar', tb);\n          }\n        }\n      }\n    });\n  });\n\n  // Add the script command\n  cm.add(_consts__WEBPACK_IMPORTED_MODULE_0__.cmdId, _objectSpread({\n    run: function run(editor, sender) {\n      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.editor = editor;\n      this.options = opts;\n      this.target = opts.target || editor.getSelected();\n      var target = this.target;\n      if (target) this.showCustomCode(target);\n    },\n    stop: function stop(editor) {\n      md.close();\n    },\n    /**\r\n     * Method which tells how to show the custom code\r\n     * @param  {Component} target\r\n     */\n    showCustomCode: function showCustomCode(target) {\n      var _this = this;\n      var editor = this.editor,\n        options = this.options;\n      var title = options.title || modalTitle;\n      if (!content) content = this.getContent();\n      var code = target.getScriptString() || starter;\n      md.open({\n        title: title,\n        content: content\n      }).getModel().once('change:open', function () {\n        return editor.stopCommand(_this.id);\n      });\n      this.getCodeViewer().setContent(code);\n    },\n    /**\r\n     * Custom pre-content. Can be a simple string or an HTMLElement\r\n     */\n    getPreContent: function getPreContent() {},\n    /**\r\n     * Custom post-content. Can be a simple string or an HTMLElement\r\n     */\n    getPostContent: function getPostContent() {},\n    /**\r\n     * Get all the content for the custom code\r\n     * @return {HTMLElement}\r\n     */\n    getContent: function getContent() {\n      var editor = this.editor;\n      var content = document.createElement('div');\n      var pfx = editor.getConfig('stylePrefix');\n      content.className = \"\".concat(pfx, \"attach-script\");\n      appendToContent(content, this.getPreContent());\n      var codeViewer = this.getCodeViewer();\n      codeViewer.refresh();\n      setTimeout(function () {\n        return codeViewer.focus();\n      }, 0);\n      content.appendChild(codeViewer.getElement());\n      appendToContent(content, this.getPostContent());\n      appendToContent(content, this.getContentActions());\n      return content;\n    },\n    /**\r\n     * Get the actions content. Can be a simple string or an HTMLElement\r\n     * @return {HTMLElement|String}\r\n     */\n    getContentActions: function getContentActions() {\n      var _this2 = this;\n      var editor = this.editor;\n      var actions = document.createElement('div');\n      actions.id = \"actns\";\n      var btn = document.createElement('button');\n      var pfx = editor.getConfig('stylePrefix');\n      btn.innerHTML = opts.buttonLabel;\n      btn.className = \"\".concat(pfx, \"btn-prim \").concat(pfx, \"btn-save__inject-logic\");\n      btn.onclick = function () {\n        return _this2.handleSave();\n      };\n      var runLogic = document.createElement('div');\n      runLogic.id = \"logic-toolbar\";\n      runLogic.className = \"fa fa-bug\";\n      runLogic.style = \"margin:5px;padding:10px;background:rgba(0,0,0,0.2);border-radius:3px;border:1px solid rgba(0,0,0,0.2);cursor:pointer\";\n      runLogic.onclick = function () {\n        return _this2.runCode();\n      };\n      actions.appendChild(runLogic);\n      actions.appendChild(btn);\n      return actions;\n    },\n    /**\r\n     * Handle the main save task\r\n     */\n    handleSave: function handleSave() {\n      var editor = this.editor,\n        target = this.target;\n      var code = this.getCodeViewer().getContent();\n      target.set('script', code);\n      editor.Modal.close();\n    },\n    /**\r\n     * Return the code viewer instance\r\n     * @return {CodeViewer}\r\n     */\n    getCodeViewer: function getCodeViewer() {\n      var editor = this.editor;\n      if (!this.codeViewer) {\n        this.codeViewer = editor.CodeManager.createViewer(_objectSpread({\n          codeName: 'javascript',\n          theme: 'hopscotch',\n          readOnly: 0,\n          autoBeautify: 1\n        }, codeViewOptions));\n      }\n      return this.codeViewer;\n    },\n    /**\r\n     * Evaluate code syntax\r\n     */\n    runCode: function runCode() {\n      //console.log(\"run\")\n      try {\n        var code = this.getCodeViewer().getContent();\n        Function('\"use strict\";' + code)(); // final code\n        onRun && onRun();\n      } catch (err) {\n        console.log(\"error\", err);\n        onError && onError(err);\n      }\n    }\n  }, commandAttachScript));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvdmVuZG9yL09uaXgvanMvc2NyaXB0RWRpdG9yL3NyYy9jb21tYW5kcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVrQjtBQUVsQixpRUFBZSxVQUFDQyxNQUFNLEVBQWdCO0VBQUEsSUFBZEMsSUFBSSx1RUFBRyxDQUFDLENBQUM7RUFDN0IsSUFBTUMsRUFBRSxHQUFHRixNQUFNLENBQUNHLFFBQVE7RUFDMUIsSUFBTUMsRUFBRSxHQUFHSixNQUFNLENBQUNLLEtBQUs7RUFDdkIsSUFBTUMsSUFBSSxHQUFHTixNQUFNLENBQUNPLFVBQVU7RUFDOUIsSUFDSUMsVUFBVSxHQU9WUCxJQUFJLENBUEpPLFVBQVU7SUFDVkMsZUFBZSxHQU1mUixJQUFJLENBTkpRLGVBQWU7SUFDZkMsbUJBQW1CLEdBS25CVCxJQUFJLENBTEpTLG1CQUFtQjtJQUNuQkMsV0FBVyxHQUlYVixJQUFJLENBSkpVLFdBQVc7SUFDWEMsS0FBSyxHQUdMWCxJQUFJLENBSEpXLEtBQUs7SUFDTEMsT0FBTyxHQUVQWixJQUFJLENBRkpZLE9BQU87SUFDUEMsT0FBTyxHQUNQYixJQUFJLENBREphLE9BQU87RUFFWCxJQUFJQyxrQkFBa0IsR0FBR2QsSUFBSSxDQUFDYyxrQkFBa0I7RUFFaEQsSUFBSUMsT0FBTyxHQUFHLElBQUk7RUFFbEIsSUFBTUMsZUFBZSxHQUFHLFNBQWxCQSxlQUFlLENBQUlDLE1BQU0sRUFBRUYsT0FBTyxFQUFLO0lBQ3pDLElBQUlBLE9BQU8sWUFBWUcsV0FBVyxFQUFFO01BQ2hDRCxNQUFNLENBQUNFLFdBQVcsQ0FBQ0osT0FBTyxDQUFDO0lBQy9CLENBQUMsTUFBTSxJQUFJQSxPQUFPLEVBQUU7TUFDaEJFLE1BQU0sQ0FBQ0csa0JBQWtCLENBQUMsV0FBVyxFQUFFTCxPQUFPLENBQUM7SUFDbkQ7RUFDSixDQUFDO0VBRUQsSUFBSWhCLE1BQU0sQ0FBQ3NCLENBQUMsQ0FBQ0MsUUFBUSxDQUFDUixrQkFBa0IsQ0FBQyxFQUFFO0lBQ3ZD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QUNnQyxHQUFHLENBQUMsUUFBUSxFQUFFVyxJQUFJLENBQUM7TUFDMUI3RCxNQUFNLENBQUNLLEtBQUssQ0FBQ3FELEtBQUssRUFBRTtJQUN4QixDQUFDO0lBRUQ7QUFDUjtBQUNBO0FBQ0E7SUFDUVMsYUFBYSwyQkFBRztNQUNaLElBQVFuRSxNQUFNLEdBQUssSUFBSSxDQUFmQSxNQUFNO01BRWQsSUFBSSxDQUFDLElBQUksQ0FBQzRFLFVBQVUsRUFBRTtRQUNsQixJQUFJLENBQUNBLFVBQVUsR0FBRzVFLE1BQU0sQ0FBQzJGLFdBQVcsQ0FBQ0MsWUFBWTtVQUM3Q0MsUUFBUSxFQUFFLFlBQVk7VUFDdEJDLEtBQUssRUFBRSxXQUFXO1VBQ2xCQyxRQUFRLEVBQUUsQ0FBQztVQUNYQyxZQUFZLEVBQUU7UUFBQyxHQUNadkYsZUFBZSxFQUNwQjtNQUNOO01BRUEsT0FBTyxJQUFJLENBQUNtRSxVQUFVO0lBQzFCLENBQUM7SUFFRDtBQUNSO0FBQ0E7SUFDUWMsT0FBTyxxQkFBRztNQUNOO01BQ0EsSUFBSTtRQUNBLElBQU03QixJQUFJLEdBQUcsSUFBSSxDQUFDTSxhQUFhLEVBQUUsQ0FBQ1AsVUFBVSxFQUFFO1FBQzlDcUMsUUFBUSxDQUFDLGVBQWUsR0FBR3BDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNwQ2pELEtBQUssSUFBSUEsS0FBSyxFQUFFO01BQ3BCLENBQUMsQ0FBQyxPQUFPc0YsR0FBRyxFQUFFO1FBQ1ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sRUFBRUYsR0FBRyxDQUFDO1FBQ3pCckYsT0FBTyxJQUFJQSxPQUFPLENBQUNxRixHQUFHLENBQUM7TUFDM0I7SUFDSjtFQUFDLEdBRUV4RixtQkFBbUIsRUFDeEI7QUFDTixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL3ZlbmRvci9Pbml4L2pzL3NjcmlwdEVkaXRvci9zcmMvY29tbWFuZHMuanM/Nzg3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgY21kSWRcclxufSBmcm9tICcuL2NvbnN0cyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCAoZWRpdG9yLCBvcHRzID0ge30pID0+IHtcclxuICAgIGNvbnN0IGNtID0gZWRpdG9yLkNvbW1hbmRzO1xyXG4gICAgY29uc3QgbWQgPSBlZGl0b3IuTW9kYWw7XHJcbiAgICBjb25zdCBkb21jID0gZWRpdG9yLkNvbXBvbmVudHM7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgICAgbW9kYWxUaXRsZSxcclxuICAgICAgICBjb2RlVmlld09wdGlvbnMsXHJcbiAgICAgICAgY29tbWFuZEF0dGFjaFNjcmlwdCxcclxuICAgICAgICB0b29sYmFySWNvbixcclxuICAgICAgICBvblJ1bixcclxuICAgICAgICBvbkVycm9yLFxyXG4gICAgICAgIHN0YXJ0ZXJcclxuICAgIH0gPSBvcHRzO1xyXG4gICAgbGV0IHNjcmlwdFR5cGVzU3VwcG9ydCA9IG9wdHMuc2NyaXB0VHlwZXNTdXBwb3J0O1xyXG5cclxuICAgIGxldCBjb250ZW50ID0gbnVsbDtcclxuXHJcbiAgICBjb25zdCBhcHBlbmRUb0NvbnRlbnQgPSAodGFyZ2V0LCBjb250ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZW50KSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKGVkaXRvci4kLmlzU3RyaW5nKHNjcmlwdFR5cGVzU3VwcG9ydCkpIHtcclxuICAgICAgICBzY3JpcHRUeXBlc1N1cHBvcnQgPSBzY3JpcHRUeXBlc1N1cHBvcnQuc3BsaXQoJywnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWRpdG9yLiQuaXNBcnJheShzY3JpcHRUeXBlc1N1cHBvcnQpKSB7XHJcbiAgICAgICAgc2NyaXB0VHlwZXNTdXBwb3J0ID0gc2NyaXB0VHlwZXNTdXBwb3J0LmluY2x1ZGVzKCcqJykgP1xyXG4gICAgICAgICAgICBkb21jLmdldFR5cGVzKCkubWFwKGMgPT4gYy5pZCkgOiBzY3JpcHRUeXBlc1N1cHBvcnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIGljb25zIHRvIHNwZWNpZmllZCBjb21wb25lbnQgdHlwZXNcclxuICAgIHNjcmlwdFR5cGVzU3VwcG9ydCAmJiBzY3JpcHRUeXBlc1N1cHBvcnQuZm9yRWFjaCh0eXBlID0+IHtcclxuICAgICAgICBjb25zdCB0eXBlT3B0ID0gZG9tYy5nZXRUeXBlKHR5cGUpLm1vZGVsO1xyXG4gICAgICAgIGRvbWMuYWRkVHlwZSh0eXBlLCB7XHJcbiAgICAgICAgICAgIG1vZGVsOiB7XHJcbiAgICAgICAgICAgICAgICBpbml0VG9vbGJhcigpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlT3B0LnByb3RvdHlwZS5pbml0VG9vbGJhci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRiID0gdGhpcy5nZXQoJ3Rvb2xiYXInKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YkV4aXN0cyA9IHRiLnNvbWUoaXRlbSA9PiBpdGVtLmNvbW1hbmQgPT09IGNtZElkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YkV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0Yi51bnNoaWZ0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IGNtZElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRvb2xiYXJJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0cy50b29sYmFyQnRuQ3VzdG9tU2NyaXB0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldCgndG9vbGJhcicsIHRiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pXHJcblxyXG4gICAgLy8gQWRkIHRoZSBzY3JpcHQgY29tbWFuZFxyXG4gICAgY20uYWRkKGNtZElkLCB7XHJcbiAgICAgICAgcnVuKGVkaXRvciwgc2VuZGVyLCBvcHRzID0ge30pIHtcclxuICAgICAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdHM7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gb3B0cy50YXJnZXQgfHwgZWRpdG9yLmdldFNlbGVjdGVkKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRhcmdldCkgdGhpcy5zaG93Q3VzdG9tQ29kZSh0YXJnZXQpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHN0b3AoZWRpdG9yKSB7XHJcbiAgICAgICAgICAgIG1kLmNsb3NlKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTWV0aG9kIHdoaWNoIHRlbGxzIGhvdyB0byBzaG93IHRoZSBjdXN0b20gY29kZVxyXG4gICAgICAgICAqIEBwYXJhbSAge0NvbXBvbmVudH0gdGFyZ2V0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2hvd0N1c3RvbUNvZGUodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZWRpdG9yLCBvcHRpb25zIH0gPSB0aGlzO1xyXG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IG9wdGlvbnMudGl0bGUgfHwgbW9kYWxUaXRsZTtcclxuICAgICAgICAgICAgaWYgKCFjb250ZW50KSBjb250ZW50ID0gdGhpcy5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgICAgIGxldCBjb2RlID0gdGFyZ2V0LmdldFNjcmlwdFN0cmluZygpIHx8IHN0YXJ0ZXI7XHJcbiAgICAgICAgICAgIG1kLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50XHJcbiAgICAgICAgICAgIH0pLmdldE1vZGVsKCkub25jZSgnY2hhbmdlOm9wZW4nLCAoKSA9PiBlZGl0b3Iuc3RvcENvbW1hbmQodGhpcy5pZCkpO1xyXG4gICAgICAgICAgICB0aGlzLmdldENvZGVWaWV3ZXIoKS5zZXRDb250ZW50KGNvZGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1c3RvbSBwcmUtY29udGVudC4gQ2FuIGJlIGEgc2ltcGxlIHN0cmluZyBvciBhbiBIVE1MRWxlbWVudFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldFByZUNvbnRlbnQoKSB7fSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VzdG9tIHBvc3QtY29udGVudC4gQ2FuIGJlIGEgc2ltcGxlIHN0cmluZyBvciBhbiBIVE1MRWxlbWVudFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldFBvc3RDb250ZW50KCkge30sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldCBhbGwgdGhlIGNvbnRlbnQgZm9yIHRoZSBjdXN0b20gY29kZVxyXG4gICAgICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldENvbnRlbnQoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZWRpdG9yIH0gPSB0aGlzO1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBmeCA9IGVkaXRvci5nZXRDb25maWcoJ3N0eWxlUHJlZml4Jyk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gYCR7cGZ4fWF0dGFjaC1zY3JpcHRgO1xyXG4gICAgICAgICAgICBhcHBlbmRUb0NvbnRlbnQoY29udGVudCwgdGhpcy5nZXRQcmVDb250ZW50KCkpO1xyXG4gICAgICAgICAgICBjb25zdCBjb2RlVmlld2VyID0gdGhpcy5nZXRDb2RlVmlld2VyKCk7XHJcbiAgICAgICAgICAgIGNvZGVWaWV3ZXIucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGNvZGVWaWV3ZXIuZm9jdXMoKSwgMCk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoY29kZVZpZXdlci5nZXRFbGVtZW50KCkpO1xyXG4gICAgICAgICAgICBhcHBlbmRUb0NvbnRlbnQoY29udGVudCwgdGhpcy5nZXRQb3N0Q29udGVudCgpKTtcclxuICAgICAgICAgICAgYXBwZW5kVG9Db250ZW50KGNvbnRlbnQsIHRoaXMuZ2V0Q29udGVudEFjdGlvbnMoKSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXQgdGhlIGFjdGlvbnMgY29udGVudC4gQ2FuIGJlIGEgc2ltcGxlIHN0cmluZyBvciBhbiBIVE1MRWxlbWVudFxyXG4gICAgICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fFN0cmluZ31cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRDb250ZW50QWN0aW9ucygpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBlZGl0b3IgfSA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgYWN0aW9ucy5pZCA9IFwiYWN0bnNcIjtcclxuICAgICAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBmeCA9IGVkaXRvci5nZXRDb25maWcoJ3N0eWxlUHJlZml4Jyk7XHJcbiAgICAgICAgICAgIGJ0bi5pbm5lckhUTUwgPSBvcHRzLmJ1dHRvbkxhYmVsO1xyXG4gICAgICAgICAgICBidG4uY2xhc3NOYW1lID0gYCR7cGZ4fWJ0bi1wcmltICR7cGZ4fWJ0bi1zYXZlX19pbmplY3QtbG9naWNgO1xyXG4gICAgICAgICAgICBidG4ub25jbGljayA9ICgpID0+IHRoaXMuaGFuZGxlU2F2ZSgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcnVuTG9naWMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcnVuTG9naWMuaWQgPSBcImxvZ2ljLXRvb2xiYXJcIjtcclxuICAgICAgICAgICAgcnVuTG9naWMuY2xhc3NOYW1lID0gXCJmYSBmYS1idWdcIjtcclxuICAgICAgICAgICAgcnVuTG9naWMuc3R5bGUgPSBcIm1hcmdpbjo1cHg7cGFkZGluZzoxMHB4O2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjIpO2JvcmRlci1yYWRpdXM6M3B4O2JvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwwLjIpO2N1cnNvcjpwb2ludGVyXCI7XHJcbiAgICAgICAgICAgIHJ1bkxvZ2ljLm9uY2xpY2sgPSAoKSA9PiB0aGlzLnJ1bkNvZGUoKTtcclxuXHJcbiAgICAgICAgICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQocnVuTG9naWMpO1xyXG4gICAgICAgICAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGJ0bik7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYWN0aW9ucztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIYW5kbGUgdGhlIG1haW4gc2F2ZSB0YXNrXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaGFuZGxlU2F2ZSgpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBlZGl0b3IsIHRhcmdldCB9ID0gdGhpcztcclxuICAgICAgICAgICAgY29uc3QgY29kZSA9IHRoaXMuZ2V0Q29kZVZpZXdlcigpLmdldENvbnRlbnQoKTtcclxuICAgICAgICAgICAgdGFyZ2V0LnNldCgnc2NyaXB0JywgY29kZSk7XHJcbiAgICAgICAgICAgIGVkaXRvci5Nb2RhbC5jbG9zZSgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybiB0aGUgY29kZSB2aWV3ZXIgaW5zdGFuY2VcclxuICAgICAgICAgKiBAcmV0dXJuIHtDb2RlVmlld2VyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldENvZGVWaWV3ZXIoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZWRpdG9yIH0gPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNvZGVWaWV3ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29kZVZpZXdlciA9IGVkaXRvci5Db2RlTWFuYWdlci5jcmVhdGVWaWV3ZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGVOYW1lOiAnamF2YXNjcmlwdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhlbWU6ICdob3BzY290Y2gnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9CZWF1dGlmeTogMSxcclxuICAgICAgICAgICAgICAgICAgICAuLi5jb2RlVmlld09wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29kZVZpZXdlcjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBFdmFsdWF0ZSBjb2RlIHN5bnRheFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJ1bkNvZGUoKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJydW5cIilcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGUgPSB0aGlzLmdldENvZGVWaWV3ZXIoKS5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgICAgICAgICBGdW5jdGlvbignXCJ1c2Ugc3RyaWN0XCI7JyArIGNvZGUpKCk7IC8vIGZpbmFsIGNvZGVcclxuICAgICAgICAgICAgICAgIG9uUnVuICYmIG9uUnVuKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgb25FcnJvciAmJiBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAuLi5jb21tYW5kQXR0YWNoU2NyaXB0LFxyXG4gICAgfSk7XHJcbn0iXSwibmFtZXMiOlsiY21kSWQiLCJlZGl0b3IiLCJvcHRzIiwiY20iLCJDb21tYW5kcyIsIm1kIiwiTW9kYWwiLCJkb21jIiwiQ29tcG9uZW50cyIsIm1vZGFsVGl0bGUiLCJjb2RlVmlld09wdGlvbnMiLCJjb21tYW5kQXR0YWNoU2NyaXB0IiwidG9vbGJhckljb24iLCJvblJ1biIsIm9uRXJyb3IiLCJzdGFydGVyIiwic2NyaXB0VHlwZXNTdXBwb3J0IiwiY29udGVudCIsImFwcGVuZFRvQ29udGVudCIsInRhcmdldCIsIkhUTUxFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpbnNlcnRBZGphY2VudEhUTUwiLCIkIiwiaXNTdHJpbmciLCJzcGxpdCIsImlzQXJyYXkiLCJpbmNsdWRlcyIsImdldFR5cGVzIiwibWFwIiwiYyIsImlkIiwiZm9yRWFjaCIsInR5cGUiLCJ0eXBlT3B0IiwiZ2V0VHlwZSIsIm1vZGVsIiwiYWRkVHlwZSIsImluaXRUb29sYmFyIiwicHJvdG90eXBlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ0YiIsImdldCIsInRiRXhpc3RzIiwic29tZSIsIml0ZW0iLCJjb21tYW5kIiwidW5zaGlmdCIsImxhYmVsIiwidG9vbGJhckJ0bkN1c3RvbVNjcmlwdCIsInNldCIsImFkZCIsInJ1biIsInNlbmRlciIsIm9wdGlvbnMiLCJnZXRTZWxlY3RlZCIsInNob3dDdXN0b21Db2RlIiwic3RvcCIsImNsb3NlIiwidGl0bGUiLCJnZXRDb250ZW50IiwiY29kZSIsImdldFNjcmlwdFN0cmluZyIsIm9wZW4iLCJnZXRNb2RlbCIsIm9uY2UiLCJzdG9wQ29tbWFuZCIsImdldENvZGVWaWV3ZXIiLCJzZXRDb250ZW50IiwiZ2V0UHJlQ29udGVudCIsImdldFBvc3RDb250ZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGZ4IiwiZ2V0Q29uZmlnIiwiY2xhc3NOYW1lIiwiY29kZVZpZXdlciIsInJlZnJlc2giLCJzZXRUaW1lb3V0IiwiZm9jdXMiLCJnZXRFbGVtZW50IiwiZ2V0Q29udGVudEFjdGlvbnMiLCJhY3Rpb25zIiwiYnRuIiwiaW5uZXJIVE1MIiwiYnV0dG9uTGFiZWwiLCJvbmNsaWNrIiwiaGFuZGxlU2F2ZSIsInJ1bkxvZ2ljIiwic3R5bGUiLCJydW5Db2RlIiwiQ29kZU1hbmFnZXIiLCJjcmVhdGVWaWV3ZXIiLCJjb2RlTmFtZSIsInRoZW1lIiwicmVhZE9ubHkiLCJhdXRvQmVhdXRpZnkiLCJGdW5jdGlvbiIsImVyciIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/vendor/Onix/js/scriptEditor/src/commands.js\n");

/***/ }),

/***/ "./resources/vendor/Onix/js/scriptEditor/src/consts.js":
/*!*************************************************************!*\
  !*** ./resources/vendor/Onix/js/scriptEditor/src/consts.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cmdId\": () => (/* binding */ cmdId)\n/* harmony export */ });\nvar cmdId = 'edit-script';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvdmVuZG9yL09uaXgvanMvc2NyaXB0RWRpdG9yL3NyYy9jb25zdHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLElBQU1BLEtBQUssR0FBRyxhQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL3ZlbmRvci9Pbml4L2pzL3NjcmlwdEVkaXRvci9zcmMvY29uc3RzLmpzPzc3MjIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNtZElkID0gJ2VkaXQtc2NyaXB0JzsiXSwibmFtZXMiOlsiY21kSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/vendor/Onix/js/scriptEditor/src/consts.js\n");

/***/ }),

/***/ "./resources/vendor/Onix/js/scriptEditor/src/scriptEditor.js":
/*!*******************************************************************!*\
  !*** ./resources/vendor/Onix/js/scriptEditor/src/scriptEditor.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _commands__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commands */ \"./resources/vendor/Onix/js/scriptEditor/src/commands.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nwindow.grapesjs.plugins.add(\"grapesjs-script-editor\", function (editor) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var options = _objectSpread(_objectSpread({}, {\n    // Starter code\n    starter: \"let el = this\",\n    toolbarIcon: '<i class=\"fa fa-file-code-o\"></i>',\n    // Component types to allow script editing\n    // Avoid components with predefined scripts\n    scriptTypesSupport: [\"default\", \"wrapper\", \"text\", \"textnode\", \"image\", \"video\", \"svg\"],\n    // Object to extend the default component's toolbar button for the code, eg. `{ label: '</>', attributes: { title: 'Open custom code' } }`\n    // Pass a falsy value to avoid adding the button\n    toolbarBtnCustomScript: {},\n    // On run success\n    onRun: function onRun() {\n      return console.log(\"valid syntax\");\n    },\n    // Logic when there is an error on run\n    onError: function onError(err) {\n      return console.log(\"error\", err);\n    },\n    // Title for the custom code modal\n    modalTitle: \"Script\",\n    // Textarea label\n    codeLabel: \"JS\",\n    // Additional options for the code viewer, eg. `{ theme: 'hopscotch', readOnly: 0 }`\n    codeViewOptions: {},\n    // Label for the default save button\n    buttonLabel: \"Save\",\n    // Object to extend the default inject logic command.\n    // Check the source to see all available methods\n    commandAttachScript: {}\n  }), opts);\n\n  // load commands\n  (0,_commands__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(editor, options);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvdmVuZG9yL09uaXgvanMvc2NyaXB0RWRpdG9yL3NyYy9zY3JpcHRFZGl0b3IuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0M7QUFFbENDLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyx3QkFBd0IsRUFBRSxVQUFDQyxNQUFNLEVBQWdCO0VBQUEsSUFBZEMsSUFBSSx1RUFBRyxDQUFDLENBQUM7RUFDcEUsSUFBTUMsT0FBTyxtQ0FDTjtJQUNDO0lBQ0FDLE9BQU8sRUFBRSxlQUFlO0lBRXhCQyxXQUFXLEVBQUUsbUNBQW1DO0lBRWhEO0lBQ0E7SUFDQUMsa0JBQWtCLEVBQUUsQ0FDaEIsU0FBUyxFQUNULFNBQVMsRUFDVCxNQUFNLEVBQ04sVUFBVSxFQUNWLE9BQU8sRUFDUCxPQUFPLEVBQ1AsS0FBSyxDQUNSO0lBRUQ7SUFDQTtJQUNBQyxzQkFBc0IsRUFBRSxDQUFDLENBQUM7SUFFMUI7SUFDQUMsS0FBSyxFQUFFO01BQUEsT0FBTUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsY0FBYyxDQUFDO0lBQUE7SUFFeEM7SUFDQUMsT0FBTyxFQUFFLGlCQUFDQyxHQUFHO01BQUEsT0FBS0gsT0FBTyxDQUFDQyxHQUFHLENBQUMsT0FBTyxFQUFFRSxHQUFHLENBQUM7SUFBQTtJQUUzQztJQUNBQyxVQUFVLEVBQUUsUUFBUTtJQUVwQjtJQUNBQyxTQUFTLEVBQUUsSUFBSTtJQUVmO0lBQ0FDLGVBQWUsRUFBRSxDQUFDLENBQUM7SUFFbkI7SUFDQUMsV0FBVyxFQUFFLE1BQU07SUFFbkI7SUFDQTtJQUNBQyxtQkFBbUIsRUFBRSxDQUFDO0VBQzFCLENBQUMsR0FDRWYsSUFBSSxDQUNWOztFQUVEO0VBQ0FOLHFEQUFRLENBQUNLLE1BQU0sRUFBRUUsT0FBTyxDQUFDO0FBQzdCLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy92ZW5kb3IvT25peC9qcy9zY3JpcHRFZGl0b3Ivc3JjL3NjcmlwdEVkaXRvci5qcz83ZTQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb21tYW5kcyBmcm9tIFwiLi9jb21tYW5kc1wiO1xyXG5cclxud2luZG93LmdyYXBlc2pzLnBsdWdpbnMuYWRkKFwiZ3JhcGVzanMtc2NyaXB0LWVkaXRvclwiLCAoZWRpdG9yLCBvcHRzID0ge30pID0+IHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgLi4ue1xyXG4gICAgICAgICAgICAvLyBTdGFydGVyIGNvZGVcclxuICAgICAgICAgICAgc3RhcnRlcjogXCJsZXQgZWwgPSB0aGlzXCIsXHJcblxyXG4gICAgICAgICAgICB0b29sYmFySWNvbjogJzxpIGNsYXNzPVwiZmEgZmEtZmlsZS1jb2RlLW9cIj48L2k+JyxcclxuXHJcbiAgICAgICAgICAgIC8vIENvbXBvbmVudCB0eXBlcyB0byBhbGxvdyBzY3JpcHQgZWRpdGluZ1xyXG4gICAgICAgICAgICAvLyBBdm9pZCBjb21wb25lbnRzIHdpdGggcHJlZGVmaW5lZCBzY3JpcHRzXHJcbiAgICAgICAgICAgIHNjcmlwdFR5cGVzU3VwcG9ydDogW1xyXG4gICAgICAgICAgICAgICAgXCJkZWZhdWx0XCIsXHJcbiAgICAgICAgICAgICAgICBcIndyYXBwZXJcIixcclxuICAgICAgICAgICAgICAgIFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0bm9kZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJpbWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJ2aWRlb1wiLFxyXG4gICAgICAgICAgICAgICAgXCJzdmdcIixcclxuICAgICAgICAgICAgXSxcclxuXHJcbiAgICAgICAgICAgIC8vIE9iamVjdCB0byBleHRlbmQgdGhlIGRlZmF1bHQgY29tcG9uZW50J3MgdG9vbGJhciBidXR0b24gZm9yIHRoZSBjb2RlLCBlZy4gYHsgbGFiZWw6ICc8Lz4nLCBhdHRyaWJ1dGVzOiB7IHRpdGxlOiAnT3BlbiBjdXN0b20gY29kZScgfSB9YFxyXG4gICAgICAgICAgICAvLyBQYXNzIGEgZmFsc3kgdmFsdWUgdG8gYXZvaWQgYWRkaW5nIHRoZSBidXR0b25cclxuICAgICAgICAgICAgdG9vbGJhckJ0bkN1c3RvbVNjcmlwdDoge30sXHJcblxyXG4gICAgICAgICAgICAvLyBPbiBydW4gc3VjY2Vzc1xyXG4gICAgICAgICAgICBvblJ1bjogKCkgPT4gY29uc29sZS5sb2coXCJ2YWxpZCBzeW50YXhcIiksXHJcblxyXG4gICAgICAgICAgICAvLyBMb2dpYyB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIG9uIHJ1blxyXG4gICAgICAgICAgICBvbkVycm9yOiAoZXJyKSA9PiBjb25zb2xlLmxvZyhcImVycm9yXCIsIGVyciksXHJcblxyXG4gICAgICAgICAgICAvLyBUaXRsZSBmb3IgdGhlIGN1c3RvbSBjb2RlIG1vZGFsXHJcbiAgICAgICAgICAgIG1vZGFsVGl0bGU6IFwiU2NyaXB0XCIsXHJcblxyXG4gICAgICAgICAgICAvLyBUZXh0YXJlYSBsYWJlbFxyXG4gICAgICAgICAgICBjb2RlTGFiZWw6IFwiSlNcIixcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZGl0aW9uYWwgb3B0aW9ucyBmb3IgdGhlIGNvZGUgdmlld2VyLCBlZy4gYHsgdGhlbWU6ICdob3BzY290Y2gnLCByZWFkT25seTogMCB9YFxyXG4gICAgICAgICAgICBjb2RlVmlld09wdGlvbnM6IHt9LFxyXG5cclxuICAgICAgICAgICAgLy8gTGFiZWwgZm9yIHRoZSBkZWZhdWx0IHNhdmUgYnV0dG9uXHJcbiAgICAgICAgICAgIGJ1dHRvbkxhYmVsOiBcIlNhdmVcIixcclxuXHJcbiAgICAgICAgICAgIC8vIE9iamVjdCB0byBleHRlbmQgdGhlIGRlZmF1bHQgaW5qZWN0IGxvZ2ljIGNvbW1hbmQuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIHRoZSBzb3VyY2UgdG8gc2VlIGFsbCBhdmFpbGFibGUgbWV0aG9kc1xyXG4gICAgICAgICAgICBjb21tYW5kQXR0YWNoU2NyaXB0OiB7fSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIC4uLm9wdHMsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGxvYWQgY29tbWFuZHNcclxuICAgIGNvbW1hbmRzKGVkaXRvciwgb3B0aW9ucyk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiY29tbWFuZHMiLCJ3aW5kb3ciLCJncmFwZXNqcyIsInBsdWdpbnMiLCJhZGQiLCJlZGl0b3IiLCJvcHRzIiwib3B0aW9ucyIsInN0YXJ0ZXIiLCJ0b29sYmFySWNvbiIsInNjcmlwdFR5cGVzU3VwcG9ydCIsInRvb2xiYXJCdG5DdXN0b21TY3JpcHQiLCJvblJ1biIsImNvbnNvbGUiLCJsb2ciLCJvbkVycm9yIiwiZXJyIiwibW9kYWxUaXRsZSIsImNvZGVMYWJlbCIsImNvZGVWaWV3T3B0aW9ucyIsImJ1dHRvbkxhYmVsIiwiY29tbWFuZEF0dGFjaFNjcmlwdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/vendor/Onix/js/scriptEditor/src/scriptEditor.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./resources/vendor/Onix/js/scriptEditor/src/scriptEditor.js");
/******/ 	
/******/ })()
;